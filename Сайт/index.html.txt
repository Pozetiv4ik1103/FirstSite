<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Инструктор по мотовождению — сайт</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
<style>
  /* Сброс приближения и масштабирования */
  body, main, section, h1, h2, p {
    transform: none !important;
  }

  body {
    margin: 0; padding: 0;
    font-family: 'Roboto', sans-serif;
    background: #fff;
    color: #111;
    overflow-x: hidden;
    position: relative;
    height: 100vh;
    /* cursor: url(...) удалено, будет системный курсор */
  }

  /* Курсор в игре - иконка мотоцикла */
  #game-canvas {
    cursor: url('motorcycle_icon.svg') 16 16, auto;
  }

  /* Плавный след курсора */
  #cursorTrail {
    pointer-events: none;
    position: fixed;
    top: 0; left: 0;
    width: 40px; height: 40px;
    background: url('data:image/svg+xml;utf8,<svg fill="red" height="40" viewBox="0 0 24 24" width="40" xmlns="http://www.w3.org/2000/svg"><path d="M5 16c-1 0-2 .5-2 2s1 2 2 2v-4zm14-2.5h-3V18l-4-2 4-2v2h3a1.5 1.5 0 0 0 0-3zM9 5v2h8v4h2V7a2 2 0 0 0-2-2H9z"/></svg>') no-repeat center center;
    background-size: contain;
    opacity: 0.3;
    transition: opacity 0.3s ease;
    z-index: 15000;
  }

  nav {
    background: #fff;
    border-bottom: 2px solid #ff2222;
    display: flex;
    justify-content: center;
    padding: 18px 0;
    position: fixed;
    width: 100%;
    top: 0;
    z-index: 1000;
    box-shadow: 0 2px 10px rgba(0,0,0,0.08);
  }
  nav a {
    color: #333;
    margin: 0 25px;
    font-weight: 700;
    font-size: 18px;
    cursor: pointer;
    text-decoration: none;
    position: relative;
    padding: 8px 12px;
    border-radius: 12px;
    transition: background 0.3s ease, color 0.3s ease;
  }
  nav a[data-title]:hover::after {
    content: attr(data-title);
    position: absolute;
    bottom: -26px;
    left: 50%;
    transform: translateX(-50%);
    background: #ff2222;
    color: #fff;
    font-size: 14px;
    padding: 4px 10px;
    border-radius: 8px;
    white-space: nowrap;
    pointer-events: none;
    opacity: 0.95;
    box-shadow: 0 3px 8px rgba(255, 34, 34, 0.6);
  }
  nav a.active,
  nav a:hover {
    color: #fff;
    background: #ff2222;
    box-shadow:
      0 0 8px #ff2222,
      0 0 20px #ff5555;
  }

  main {
    max-width: 900px;
    margin: 110px auto 80px;
    padding: 0 20px;
    position: relative;
    min-height: 70vh;
    overflow: visible;
  }
  section {
    position: absolute;
    top: 0; left: 0; right: 0;
    opacity: 0;
    pointer-events: none;
    transform: none;
    transition:
      opacity 0.7s cubic-bezier(0.4, 0, 0.2, 1);
    background: #fff;
    padding: 25px 30px 40px;
    border-radius: 20px;
    box-shadow: 0 30px 60px rgba(255,0,0,0.1);
  }
  section.active {
    position: relative;
    opacity: 1;
    pointer-events: auto;
    filter: drop-shadow(0 8px 15px rgba(255,34,34,0.15));
  }
  h1, h2 {
    font-weight: 700;
    margin-bottom: 0.9rem;
    color: #220000;
    user-select: none;
    text-shadow: 1px 1px 2px rgba(255, 34, 34, 0.2);
  }
  h1 {
    font-size: 3.4rem;
  }
  h2 {
    font-size: 2.4rem;
  }
  p {
    font-size: 1.15rem;
    line-height: 1.6;
    color: #444;
    max-width: 750px;
    margin-bottom: 28px;
  }
  img.responsive {
    width: 100%;
    max-width: 460px;
    border-radius: 15px;
    box-shadow: 0 12px 40px rgba(255,34,34,0.25);
    margin-top: 25px;
    transition: transform 0.4s ease, filter 0.5s ease;
    cursor: pointer;
    user-select: none;
  }
  img.responsive:hover {
    transform: scale(1.08) rotate(1.5deg);
    filter: drop-shadow(0 0 12px #ff2222);
  }
  .gallery {
    display: flex;
    overflow-x: auto;
    gap: 18px;
    padding-bottom: 8px;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none;  /* IE 10+ */
    user-select: none;
  }
  .gallery::-webkit-scrollbar {
    display: none;
  }
  .gallery img {
    flex: 0 0 220px;
    border-radius: 14px;
    box-shadow: 0 12px 30px rgba(255,34,34,0.3);
    cursor: grab;
    transition: box-shadow 0.3s ease;
    position: relative;
    z-index: 1;
    user-select: none;
  }
  .gallery img:active {
    cursor: grabbing;
  }
  .gallery img:hover {
    box-shadow: 0 18px 48px rgba(255, 0, 0, 0.7);
  }

  /* Формы */
  form {
    max-width: 480px;
    user-select: none;
  }
  input, textarea {
    width: 100%;
    padding: 16px 20px;
    margin-bottom: 18px;
    border: 2px solid #ddd;
    border-radius: 14px;
    font-size: 17px;
    transition: border-color 0.3s ease, background-color 0.4s ease, color 0.4s ease;
    background: #fff;
    color: #111;
  }
  input::placeholder, textarea::placeholder {
    color: #999;
    user-select: none;
  }
  input:focus, textarea:focus {
    border-color: #ff2222;
    outline: none;
    background-color: #fff0f0;
    color: #220000;
  }
  button.interactive-btn {
    background: linear-gradient(135deg, #ff2222 0%, #cc0000 100%);
    border: none;
    color: white;
    padding: 18px 36px;
    font-size: 19px;
    border-radius: 30px;
    font-weight: 700;
    cursor: pointer;
    transition: box-shadow 0.4s ease, transform 0.2s ease;
    user-select: none;
    position: relative;
    overflow: hidden;
  }
  button.interactive-btn::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -25%;
    width: 150%;
    height: 200%;
    background: rgba(255, 255, 255, 0.2);
    transform: rotate(25deg);
    transition: all 0.5s ease;
    pointer-events: none;
  }
  button.interactive-btn:hover::before {
    left: 80%;
    top: -20%;
    width: 40%;
    height: 240%;
  }
  button.interactive-btn:hover {
    box-shadow: 0 0 25px #ff4444;
    transform: scale(1.08);
  }
  button.interactive-btn:active {
    transform: scale(0.95);
    box-shadow: 0 0 20px #cc0000;
  }
  button.interactive-btn[data-tooltip]:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    background: #ff2222;
    color: white;
    font-weight: 600;
    font-size: 14px;
    padding: 6px 12px;
    border-radius: 10px;
    white-space: nowrap;
    box-shadow: 0 3px 8px rgba(255,34,34,0.7);
    pointer-events: none;
  }

  footer {
    text-align: center;
    padding: 22px 15px;
    background: #fff;
    color: #666;
    font-size: 14px;
    user-select: none;
  }
  footer a {
    color: #ff2222;
    margin: 0 16px;
    text-decoration: none;
    font-weight: 600;
    transition: color 0.3s ease;
  }
  footer a:hover {
    color: #cc0000;
  }
  .social-icons {
    margin-top: 14px;
  }

  /* Плавающие иконки мотоциклов */
  img.bike-icon {
    position: fixed;
    width: 40px;
    height: 40px;
    user-select: none;
    pointer-events: none;
    z-index: 2000;
  }
  img.bike-icon:nth-child(1) {
    top: 10vh;
    left: 5vw;
    animation: floatBike1 8s ease-in-out infinite;
  }
  img.bike-icon:nth-child(2) {
    top: 20vh;
    left: 80vw;
    animation: floatBike2 7s ease-in-out infinite;
  }
  img.bike-icon:nth-child(3) {
    top: 70vh;
    left: 15vw;
    animation: floatBike3 10s ease-in-out infinite;
  }
  @keyframes floatBike1 {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-15px); }
  }
  @keyframes floatBike2 {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }
  @keyframes floatBike3 {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-12px); }
  }
</style>
</head>
<body>

<nav>
  <a class="active" data-section="home" data-title="Главная страница">Главная</a>
  <a data-section="about" data-title="Информация обо мне">Обо мне</a>
  <a data-section="portfolio" data-title="Мои работы и курсы">Портфолио</a>
  <a data-section="contact" data-title="Связь со мной">Контакты</a>
</nav>

<main>
  <section id="home" class="active">
    <h1>Добро пожаловать на мой сайт!</h1>
    <p>Я — опытный инструктор по обучению вождению мотоцикла с трёхлетним стажем. Моя миссия — помочь вам освоить управление байком максимально быстро и безопасно. Индивидуальный подход и поддержка на каждом этапе сделают обучение удобным и эффективным.</p>
  </section>

  <section id="about">
    <h2>Обо мне</h2>
    <p>Меня зовут Иван, и я посвятил более трёх лет обучению мотоциклистов разного уровня подготовки. В процессе обучения я комбинирую практические и теоретические занятия, уделяю большое внимание технике безопасности и уверенности за рулём.</p>
    <img src="original_photo.jpg" alt="Фото инструктора" class="responsive" title="Это я :)" />
  </section>

  <section id="portfolio">
    <h2>Портфолио</h2>
    <p>Предлагаю разнообразные курсы обучения мотоциклистов, включая подготовку к экзаменам и советы по выбору техники. Ознакомьтесь с фотографиями с тренировок и занятий, демонстрирующих мой профессиональный подход.</p>
    <div class="gallery" aria-label="Галерея фото занятий">
      <img src="image1.jpg" alt="Обучение вождению" tabindex="0" />
      <img src="image2.jpg" alt="Тренировочная площадка" tabindex="0" />
      <img src="image3.jpg" alt="Мотоциклы" tabindex="0" />
    </div>
  </section>

  <section id="contact">
    <h2>Контакты</h2>
    <form id="contactForm" novalidate>
      <input name="name" type="text" placeholder="Имя" required />
      <input name="email" type="email" placeholder="Email" required pattern=".+@.+\..+" />
      <textarea name="message" rows="5" placeholder="Сообщение" required></textarea>
      <button type="submit" class="interactive-btn" data-tooltip="Отправить сообщение">Отправить</button>
    </form>
    <p>Телефон: <a href="tel:+79991234567" style="color:#ff2222;">+7 (999) 123-45-67</a></p>
    <p>Email: <a href="mailto:example@mail.ru" style="color:#ff2222;">example@mail.ru</a></p>
    <div class="social-icons">
      <a href="https://vk.com" target="_blank" aria-label="ВКонтакте" style="color:#4a76a8;">VK</a>
      <a href="https://instagram.com" target="_blank" aria-label="Instagram" style="color:#C13584;">Instagram</a>
    </div>

    <div id="game-container" aria-label="Мини-игра Мотоциклист">
      <canvas id="game-canvas" width="480" height="270" tabindex="0"></canvas>
      <div id="game-score">Очки: 0</div>
      <div id="game-status">Нажмите кнопку "Начать игру", чтобы играть.</div>
      <button id="startGameBtn" aria-label="Начать игру">Начать игру</button>
    </div>
  </section>
</main>

<footer>
  &copy; 2025 Инструктор по мотовождению
</footer>

<!-- Плавающие иконки мотоциклов -->
<img src="motorcycle_icon.svg" class="bike-icon" alt="" aria-hidden="true" />
<img src="motorcycle_icon.svg" class="bike-icon" alt="" aria-hidden="true" />
<img src="motorcycle_icon.svg" class="bike-icon" alt="" aria-hidden="true" />

<div id="cursorTrail"></div>

<script>
  // Навигация и секции
  const links = document.querySelectorAll('nav a');
  const sections = document.querySelectorAll('main section');
  links.forEach(link => {
    link.addEventListener('click', () => {
      const target = link.dataset.section;
      links.forEach(l => l.classList.toggle('active', l === link));
      sections.forEach(sec => {
        if (sec.id === target) {
          sec.classList.add('active');
        } else {
          sec.classList.remove('active');
        }
      });
    });
  });

  // Курсор и плавный след
  const cursorTrail = document.getElementById('cursorTrail');
  let mouseX = 0, mouseY = 0, trailX = 0, trailY = 0;

  window.addEventListener('mousemove', e => {
    mouseX = e.clientX - 20;
    mouseY = e.clientY - 20;
    cursorTrail.style.opacity = '1';
  });
  function animateTrail() {
    trailX += (mouseX - trailX) * 0.1;
    trailY += (mouseY - trailY) * 0.1;
    cursorTrail.style.transform = `translate3d(${trailX}px, ${trailY}px, 0)`;
    requestAnimationFrame(animateTrail);
  }
  animateTrail();

  // Валидация и анимация отправки формы
  const form = document.getElementById('contactForm');
  form.addEventListener('submit', e => {
    if (!form.email.value.includes('@')) {
      alert('Пожалуйста, введите корректный Email.');
      e.preventDefault();
      return;
    }
    e.preventDefault();

    const btn = form.querySelector('button');
    btn.disabled = true;
    btn.textContent = "Отправка...";

    for(let i=0; i<14; i++) {
      let spark = document.createElement('div');
      spark.className = 'spark';
      const rect = btn.getBoundingClientRect();
      spark.style.left = (rect.left + rect.width/2 + (Math.random()-0.5)*140) + 'px';
      spark.style.top = (rect.top + rect.height/2 + (Math.random()-0.5)*60) + 'px';
      spark.style.width = spark.style.height = 5 + Math.random()*7 + 'px';
      document.body.appendChild(spark);
      setTimeout(() => spark.remove(), 600);
    }

    setTimeout(() => {
      btn.disabled = false;
      btn.textContent = "Отправить";
      alert('Форма отправлена! (демо)');
      form.reset();
    }, 2000);
  });

  // Галерея: плавное центрированное увеличение с фиксированным положением
  const gallery = document.querySelector('.gallery');
  let zoomedImg = null;
  gallery.querySelectorAll('img').forEach(img => {
    img.addEventListener('click', () => {
      if (zoomedImg) {
        zoomedImg.classList.remove('zoomed');
        zoomedImg = null;
        return;
      }
      zoomedImg = img;
      zoomedImg.classList.add('zoomed');
      zoomedImg.style.zIndex = 10100;
    });
  });
  document.addEventListener('click', e => {
    if (zoomedImg && !zoomedImg.contains(e.target)) {
      zoomedImg.classList.remove('zoomed');
      zoomedImg.style.zIndex = "";
      zoomedImg = null;
    }
  });

  // Перетаскивание галереи мышью
  let isDown = false, startX, scrollLeft;
  gallery.addEventListener('mousedown', e => {
    isDown = true;
    gallery.classList.add('active');
    startX = e.pageX - gallery.offsetLeft;
    scrollLeft = gallery.scrollLeft;
  });
  gallery.addEventListener('mouseleave', () => {
    isDown = false;
    gallery.classList.remove('active');
  });
  gallery.addEventListener('mouseup', () => {
    isDown = false;
    gallery.classList.remove('active');
  });
  gallery.addEventListener('mousemove', e => {
    if (!isDown) return;
    e.preventDefault();
    const x = e.pageX - gallery.offsetLeft;
    const walk = (x - startX) * 2;
    gallery.scrollLeft = scrollLeft - walk;
  });

  // Частицы мотоциклов, которые следуют за курсором
  const bikeParticlesCount = 25;
  let particles = [];

  function createParticle() {
    const p = document.createElement('div');
    p.className = 'spark';
    p.style.width = p.style.height = (4 + Math.random()*6) + 'px';
    p.style.opacity = 0.35;
    p.style.position = 'fixed';
    p.style.pointerEvents = 'none';
    p.style.borderRadius = '50%';
    p.style.background = 'radial-gradient(circle, #ff5555 30%, transparent 80%)';
    p.style.filter = 'drop-shadow(0 0 6px #ff2222)';
    document.body.appendChild(p);
    return p;
  }

  for(let i=0; i<bikeParticlesCount; i++) {
    particles.push({
      el: createParticle(),
      x: window.innerWidth * Math.random(),
      y: window.innerHeight * Math.random(),
      vx: (Math.random()-0.5)*2,
      vy: (Math.random()-0.5)*2,
    });
  }

  document.addEventListener('mousemove', e => {
    particles.forEach(p => {
      let dx = e.clientX - p.x;
      let dy = e.clientY - p.y;
      let dist = Math.sqrt(dx*dx + dy*dy);
      if (dist < 150) {
        let angle = Math.atan2(dy, dx);
        let force = (150 - dist) / 150 * 3;
        p.vx += Math.cos(angle) * force * 0.07;
        p.vy += Math.sin(angle) * force * 0.07;
      }
    });
  });

  function animateParticles() {
    particles.forEach(p => {
      p.x += p.vx;
      p.y += p.vy;
      p.vx *= 0.9;
      p.vy *= 0.9;
      if (p.x < 0) p.x = window.innerWidth;
      if (p.x > window.innerWidth) p.x = 0;
      if (p.y < 0) p.y = window.innerHeight;
      if (p.y > window.innerHeight) p.y = 0;
      p.el.style.left = p.x + 'px';
      p.el.style.top = p.y + 'px';
    });
    requestAnimationFrame(animateParticles);
  }
  animateParticles();

  // Мини-игра "Мотоциклист" с управлением и машинами препятствиями

  const canvas = document.getElementById('game-canvas');
  const ctx = canvas.getContext('2d');

  const gameWidth = canvas.width;
  const gameHeight = canvas.height;

  const bike = {
    width: 50,
    height: 80,
    x: gameWidth / 2 - 25,
    y: gameHeight - 90,
    speed: 5,
    color: '#ff2222'
  };

  const obstacles = [];
  let spawnInterval = 2500; // замедлено
  let lastSpawn = 0;
  let gameOver = false;
  let score = 0;

  let leftPressed = false;
  let rightPressed = false;

  const gameStatusElem = document.getElementById('game-status');
  const gameScoreElem = document.getElementById('game-score');
  const startGameBtn = document.getElementById('startGameBtn');

  function spawnObstacle() {
    const carWidth = 60 + Math.random() * 30;
    const laneWidth = gameWidth - carWidth;
    let x = Math.floor(Math.random()*5) * (laneWidth/4);
    obstacles.push({
      x,
      y: -60,
      width: carWidth,
      height: 40,
      speed: 2 + Math.random()*1.5,
      color: '#fff'
    });
  }

  function drawBike() {
    ctx.fillStyle = bike.color;
    ctx.beginPath();
    ctx.moveTo(bike.x + bike.width/2, bike.y);
    ctx.lineTo(bike.x + bike.width, bike.y + bike.height*0.6);
    ctx.lineTo(bike.x + bike.width*0.75, bike.y + bike.height);
    ctx.lineTo(bike.x + bike.width*0.25, bike.y + bike.height);
    ctx.lineTo(bike.x, bike.y + bike.height*0.6);
    ctx.closePath();
    ctx.fill();
    ctx.fillStyle = "#333";
    ctx.beginPath();
    ctx.arc(bike.x + bike.width*0.25, bike.y + bike.height*0.6, 12, 0, Math.PI*2);
    ctx.arc(bike.x + bike.width*0.75, bike.y + bike.height*0.6, 12, 0, Math.PI*2);
    ctx.fill();
  }

  function drawObstacles() {
    obstacles.forEach(o => {
      ctx.fillStyle = o.color;
      ctx.fillRect(o.x, o.y, o.width, o.height);
      ctx.strokeStyle = '#ff2222';
      ctx.lineWidth = 2;
      ctx.strokeRect(o.x + 4, o.y + 4, o.width - 8, o.height - 8);
    });
  }

  function update() {
    if (gameOver) return;
    if (leftPressed) bike.x -= bike.speed;
    if (rightPressed) bike.x += bike.speed;
    if (bike.x < 0) bike.x = 0;
    if (bike.x + bike.width > gameWidth) bike.x = gameWidth - bike.width;
    obstacles.forEach((o, i) => {
      o.y += o.speed;
      if (o.y > gameHeight) {
        obstacles.splice(i,1);
        score++;
        updateScore();
      }
    });
    for(const o of obstacles) {
      if (
        bike.x < o.x + o.width &&
        bike.x + bike.width > o.x &&
        bike.y < o.y + o.height &&
        bike.y + bike.height > o.y
      ) {
        gameOver = true;
        showGameOver();
      }
    }
  }

  function draw() {
    ctx.clearRect(0,0,gameWidth,gameHeight);
    drawBike();
    drawObstacles();
  }

  function gameLoop(timestamp) {
    if (!lastSpawn) lastSpawn = timestamp;
    if (!gameOver && timestamp - lastSpawn > spawnInterval) {
      spawnObstacle();
      lastSpawn = timestamp;
      if (spawnInterval > 800) spawnInterval -= 20;
    }
    update();
    draw();
    if (!gameOver) {
      requestAnimationFrame(gameLoop);
    }
  }

  function updateScore() {
    gameScoreElem.textContent = 'Очки: ' + score;
  }

  function showGameOver() {
    gameStatusElem.textContent = 'Игра окончена! Набранные очки: ' + score;
    startGameBtn.disabled = false;
    startGameBtn.textContent = 'Начать игру';
  }

  startGameBtn.addEventListener('click', () => {
    bike.x = gameWidth/2 - bike.width/2;
    obstacles.length = 0;
    spawnInterval = 2500;
    lastSpawn = 0;
    gameOver = false;
    score = 0;
    updateScore();
    gameStatusElem.textContent = 'Игра запущена! Управляйте стрелками влево/вправо.';
    startGameBtn.disabled = true;
    startGameBtn.textContent = 'Игра идет...';
    canvas.focus();
    requestAnimationFrame(gameLoop);
  });

  window.addEventListener('keydown', e => {
    if (e.key === 'ArrowLeft' || e.key.toLowerCase() === 'a') leftPressed = true;
    if (e.key === 'ArrowRight' || e.key.toLowerCase() === 'd') rightPressed = true;
  });
  window.addEventListener('keyup', e => {
    if (e.key === 'ArrowLeft' || e.key.toLowerCase() === 'a') leftPressed = false;
    if (e.key === 'ArrowRight' || e.key.toLowerCase() === 'd') rightPressed = false;
  });
</script>

</body>
</html>
